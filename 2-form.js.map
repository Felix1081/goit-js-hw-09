{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formEl = document.querySelector('.feedback-form');\nconst localStorageKey = 'feedback-form-state';\nlet formData = {\n  email: '',\n  message: '',\n};\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const lsData = getFromLS(localStorageKey);\n\n  if (lsData && lsData.email && lsData.message) {\n    formEl.elements.email.value = lsData.email;\n    formEl.elements.message.value = lsData.message;\n    formData = { ...lsData };\n  }\n\n  formEl.addEventListener('input', onInput);\n  formEl.addEventListener('submit', onSubmit);\n});\n\nfunction onInput(e) {\n  if (e.target.nodeName !== 'INPUT' && e.target.nodeName !== 'TEXTAREA') return;\n\n  formData.email = formEl.elements.email.value;\n  formData.message = formEl.elements.message.value;\n\n  saveToLS(localStorageKey, formData);\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  if (!formData.email.trim() || !formData.message.trim()) {\n    alert('Fill please all fields');\n    return;\n  }\n\n  console.log(formData);\n  localStorage.removeItem(localStorageKey);\n  formEl.reset();\n  formData = { email: '', message: '' };\n}\n\nfunction saveToLS(key, value) {\n  localStorage.setItem(key, JSON.stringify(value));\n}\n\nfunction getFromLS(key, defaultValue = null) {\n  try {\n    return JSON.parse(localStorage.getItem(key)) ?? defaultValue;\n  } catch {\n    return defaultValue;\n  }\n}\n"],"names":["formEl","localStorageKey","formData","lsData","getFromLS","onInput","onSubmit","saveToLS","event","key","value","defaultValue"],"mappings":"wFAAA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAkB,sBACxB,IAAIC,EAAW,CACb,MAAO,GACP,QAAS,EACX,EAEA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMC,EAASC,EAAUH,CAAe,EAEpCE,GAAUA,EAAO,OAASA,EAAO,UACnCH,EAAO,SAAS,MAAM,MAAQG,EAAO,MACrCH,EAAO,SAAS,QAAQ,MAAQG,EAAO,QACvCD,EAAW,CAAE,GAAGC,IAGlBH,EAAO,iBAAiB,QAASK,CAAO,EACxCL,EAAO,iBAAiB,SAAUM,CAAQ,CAC5C,CAAC,EAED,SAASD,EAAQ,EAAG,CACd,EAAE,OAAO,WAAa,SAAW,EAAE,OAAO,WAAa,aAE3DH,EAAS,MAAQF,EAAO,SAAS,MAAM,MACvCE,EAAS,QAAUF,EAAO,SAAS,QAAQ,MAE3CO,EAASN,EAAiBC,CAAQ,EACpC,CAEA,SAASI,EAASE,EAAO,CAGvB,GAFAA,EAAM,eAAc,EAEhB,CAACN,EAAS,MAAM,KAAI,GAAM,CAACA,EAAS,QAAQ,OAAQ,CACtD,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWD,CAAe,EACvCD,EAAO,MAAK,EACZE,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,CACrC,CAEA,SAASK,EAASE,EAAKC,EAAO,CAC5B,aAAa,QAAQD,EAAK,KAAK,UAAUC,CAAK,CAAC,CACjD,CAEA,SAASN,EAAUK,EAAKE,EAAe,KAAM,CAC3C,GAAI,CACF,OAAO,KAAK,MAAM,aAAa,QAAQF,CAAG,CAAC,GAAKE,CACpD,MAAU,CACN,OAAOA,CACR,CACH"}